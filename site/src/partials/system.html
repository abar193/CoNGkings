<div class="centerview">
    <div ng-click="back()" style="float: left; background-color: red; width: 11px; height: 651px">
        <br/><br/><br/>T<br/>O<br/><br/>S<br/>E<br/>C<br/>T<br/>O<br/>R
    </div>
    <canvas style="float: left" class="no_selection" width="640px" height="651px" system-canvas></canvas>
</div>
<div class="rightview">
    <div ng-if='righttab == "systems"'>
        <b><u uib-tooltip="Hello!">Системы</u> / <a ng-click="toggleTab('planet')" uib-tooltip="Hello!">Планета</a></b>
        <br/>
        <b>Были выбраны ранее:</b>
        <div ng-repeat="system in selectedSystems" class="system-button-out">
            <system-button system="system">
            </system-button>
        </div>
    </div>
    <div ng-if='righttab == "planet"'>
        <b><a ng-click="toggleTab('systems')" uib-tooltip="Hello!">Системы</a> / <u uib-tooltip="Hello!">Планета</u></b>
        <br/>
        <input ng-model="dev.planetpath" type="text" style="color: black"
               uib-tooltip="Укажи адрес любой своей планеты, и кликни по любой планете на экране"
               tooltip-placement="bottom">
        {{dev.planetpath}}
        <div style="background-image: url('/img/planets/starsky.png'); width: 100%; height: 100px">
            <div style="height: 40px"></div>
        </div>
        <div style="background-image: url('/img/planets/{{parsedPlanet.atm}}.png'); width: 100%; height: 185px; position: relative">
            <table class="smallbuildings">
                <tr>
                    <td style="width: 56px">
                        <table class="full">
                            <tr style="height: 56px"><td>
                                <building-button building="parsedPlanet.cities"></building-button>
                            </td></tr>
                            <tr>
                                <td style="alignment: center">
                                    <button ng-if="parsedPlanet.head" class="building buttonlink building13_small">
                                        <div class="widgets unique_16"></div>
                                    </button>
                                </td></tr>
                        </table>
                    </td>
                    <td>
                        <table class="full">
                            <tr ng-repeat="row in parsedPlanet.parsedBuildings">
                                <td ng-repeat="building in row">
                                    <building-button building="building"></building-button>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            <span class="respanel" style="bottom: 16px">
                <span class="ore"><span class="widgets temp"></span>42</span>
                <span class="ore"><span class="widgets mass"></span>12</span>
            </span>
            <span class="respanel">
                <span ng-repeat="r in parsedPlanet.resources" class="{{r.img|cutext}}">
                    <span class="widgets res{{r.img|cutext}}"></span>{{r.val}}
                </span>
            </span>
        </div>
        <br/>
        <span style="width: 80%; padding-left: 10%">Имя планеты
            <b uib-tooltip="Открывает ссылку на профиль владельца">(Имя игрока)</b>
        </span>
        <div style="width: 90%; padding-left: 5%;  height: 150px; overflow-y: auto" ng-if="parsedPlanet.own == 1">
            <span class="widgets pl_build" style="display: inline-block" uib-tooltip="Скорость постройки зданий"></span>
            {{parsedPlanet.const_rate}}
            <span class="widgets pl_train" style="display: inline-block" uib-tooltip="Скорость тренировки юнитов"></span>
            {{parsedPlanet.prod_rate}}
            <table>
                <tr>
                    <td><button class="widgets pl_build" uib-tooltip="Заказать здание" ng-click="open()"></button></td>
                    <td><button class="widgets pl_produce" uib-tooltip="Заказать корабль"></button></td>
                    <td><button class="widgets pl_train" uib-tooltip="Заказать кого-то наземного"></button></td>
                </tr>
                <tr>
                    <td>
                        <span class="building buttonlink building1_small" style="display: inline-block; position: relative">
                            <b>5</b>
                        </span>
                    </td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <span class="building buttonlink building7_small" style="display: inline-block; position: relative">
                            <b>~17</b>
                        </span>
                    </td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <span class="building buttonlink building7_small" style="display: inline-block; position: relative">
                            <b>~17</b>
                        </span>
                    </td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <span class="building buttonlink building7_small" style="display: inline-block; position: relative">
                            <b>~17</b>
                        </span>
                    </td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
        </div>
        <div style="width: 95%; padding-left: 2%; padding-top: 25px" ng-if="parsedPlanet.own == 1">
            <table>
                <tr>
                    <td><span class="widgets crime" style="display: inline-block"></span>
                        {{parsedPlanet.crime * 100}}%
                    </td>
                </tr>
                <tr>
                    <td ng-repeat="r in ['carbon', 'silicon', 'ore']" class="{{r}}">
                        <span class="widgets res{{r}}" style="display: inline-block"></span>+17500
                    </td>
                </tr>
                <tr>
                    <td ng-repeat="r in ['bean', 'science', 'radiation']" class="{{r}}">
                        <span class="widgets res{{r}}" style="display: inline-block"></span>+17
                    </td>
                </tr>
                <tr>
                    <td class="human">
                        <span class="widgets reshuman" style="display: inline-block"></span>
                        {{parsedPlanet.pop|bignumsshortener}}
                    </td>
                    <td style="padding-left: 15px">(+{{parsedPlanet.pop_rate}}%)</td>
                    <td></td>
                </tr>
            </table>
        </div>
    </div>
</div>

<script type=text/ng-template id=buildings.html>
    <div style="background-image: url('/img/planets/starsky.png'); width: 100%; height: 100px">
        <div style="height: 40px"></div>

    </div>
    <div style="background-image: url('/img/planets/{{data.atm}}.png'); width: 100%; height: 250px; position: relative">
        <div style="position:absolute; margin-top: 65px; margin-left: 5px; width: 56px">
            <building-button building="buildings[12]"></building-button>
        </div>
        <div style="position:absolute; margin-top: 130px; margin-left: 17px; width: 32px">
            <building-button building="buildings[24]"></building-button>
            <building-button building="buildings[13]"></building-button>
        </div>
        <div style="position:absolute; margin-top: 45px; margin-left: 86px; width: 150px">
            <table>
                <tr class="buildingrow">
                    <td><building-button building="buildings[2]"></building-button></td>
                    <td><building-button building="buildings[1]"></building-button></td>
                    <td><building-button building="buildings[3]"></building-button></td>
                    <td><building-button building="buildings[18]"></building-button></td>
                </tr>
                <tr class="buildingrow">
                    <td><building-button building="buildings[25]"></building-button></td>
                    <td><building-button building="buildings[26]"></building-button></td>
                    <td><building-button building="buildings[27]"></building-button></td>
                    <td><building-button building="buildings[20]"></building-button></td>
                </tr>
            </table>
        </div>
        <div style="position: absolute; margin-top: 120px; margin-left: 84px; width: 68px">
            <table>
                <tr class="buildingrow">
                    <td><building-button building="buildings[8]"></building-button></td>
                    <td><building-button building="buildings[7]"></building-button></td>
                </tr>
                <tr class="buildingrow">
                    <td><building-button building="buildings[9]"></building-button></td>
                    <td><building-button building="buildings[23]"></building-button></td>
                </tr>
            </table>
        </div>
        <div style="position: absolute; margin-top: 120px; margin-left: 155px; width: 68px">
            <table>
                <tr>
                    <td>
                        <table>
                            <tr class="buildingrow">
                                <td><building-button building="buildings[4]"></building-button></td>
                            </tr>
                            <tr class="buildingrow">
                                <td><building-button building="buildings[6]"></building-button></td>
                            </tr>
                        </table>
                    </td>
                    <td><building-button building="buildings[5]"></building-button></td>
                </tr>
            </table>
        </div>
        <div style="position: absolute; margin-top: 195px; margin-left: 84px; width: 68px">
            <building-button building="buildings[21]"></building-button>
            <building-button building="buildings[22]"></building-button>
        </div>
        <div style="position: absolute; margin-top: 45px; margin-left: 235px; width: 32px">
            <building-button building="buildings[10]"></building-button>
            <building-button building="buildings[11]"></building-button>
            <building-button building="buildings[19]"></building-button>
        </div>
        <div style="position: absolute; margin-top: 45px; margin-left: 275px; width: 32px">
            <building-button building="buildings[17]"></building-button>
            <building-button building="buildings[15]"></building-button>
            <building-button building="buildings[14]"></building-button>
            <building-button building="buildings[16]"></building-button>
        </div>
    </div>
    <div style="width: 100%; padding-left: 2%; height: 87px; background-color: black">
        <table style="float: left;">
            <tr>
                <td><span class="widgets crime" style="display: inline-block"></span>
                    {{data.crime * 100}}%
                </td>
            </tr>
            <tr>
                <td ng-repeat="r in ['carbon', 'silicon', 'ore']" class="{{r}}">
                    <span class="widgets res{{r}}" style="display: inline-block"></span>+17500
                </td>
            </tr>
            <tr>
                <td ng-repeat="r in ['bean', 'science', 'radiation']" class="{{r}}">
                    <span class="widgets res{{r}}" style="display: inline-block"></span>+17
                </td>
            </tr>
            <tr>
                <td class="human">
                    <span class="widgets reshuman" style="display: inline-block"></span>
                    {{data.pop|bignumsshortener}}
                </td>
                <td style="padding-left: 15px">(+{{data.pop_rate}}%)</td>
                <td></td>
            </tr>
        </table>
        <div style="float:left; color: white; padding-left: 25px">
            Очереди:
            <br/>
            <span class="building buttonlink building1_small" style="display: inline-block; position: relative">
                <b>5</b>
            </span>
            <span class="building buttonlink building7_small" style="display: inline-block; position: relative">
                <b>~17</b>
            </span>
            <span class="building buttonlink building7_small" style="display: inline-block; position: relative">
                <b>~27</b>
            </span>
            <br/>
        </div>
    </div>
</script>
