<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Science tree of Tal-Darims</title>
    <link rel="stylesheet" href="/bootstrap/dist/css/bootstrap.min.css">
    <script src="angular/angular.js"></script>
</head>
<script>
    console.log("Hi!");
    var sciTree = {"name":"Космостроение L.1","data":{"t":0,"i":"spacecraft1.gif","p":"24"},"children":[{"name":"Солнечная энергия L.1","data":{"t":0,"i":"solar_rate.png","p":"11"},"children":[{"name":"Молекулярное сжатие L.1","data":{"t":0,"i":"maxorb.png","p":"21"},"children":[{"name":"Добыча L.2","data":{"t":0,"i":"mining.png","p":"1"},"children":[{"name":"Точность L.3","data":{"t":0,"i":"precision.png","p":"7"},"children":[{"name":"Космостроение L.4","data":{"t":0,"i":"spacecraft1.gif","p":"24"},"children":[{"name":"Радиус обзора L.6","data":{"t":0,"l":15,"i":"sight.png","p":"9"}},{"name":"Контршпионаж L.9","data":{"t":0,"l":99,"i":"counterintelligence.png","p":"23"}}]},{"name":"Утилизация отходов L.3","data":{"t":0,"l":2,"i":"recycle.png","p":"19"}}]},{"name":"Генетика L.2","data":{"t":0,"i":"genetics.png","p":"20"},"children":[{"name":"Фермерство L.2","data":{"t":0,"i":"farming.png","p":"13"},"children":[{"name":"Стоимость туннелей L.2","data":{"t":0,"i":"tunnelcost.png","p":"10"},"children":[{"name":"Население L.6","data":{"t":0,"l":15,"i":"population.png","p":"12"}},{"name":"Маскировка L.5","data":{"t":0,"l":8,"i":"stealth.png","p":"14"}}]},{"name":"Генетика L.5","data":{"t":0,"l":8,"i":"genetics.png","p":"20"}}]},{"name":"Контршпионаж L.6","data":{"t":0,"l":15,"i":"counterintelligence.png","p":"23"}}]}]},{"name":"Контршпионаж L.1","data":{"t":0,"i":"counterintelligence.png","p":"23"},"children":[{"name":"Добыча L.3","data":{"t":0,"i":"mining.png","p":"1"},"children":[{"name":"Молекулярное сжатие L.6","data":{"t":0,"i":"maxorb.png","p":"21"},"children":[{"name":"Детект L.10","data":{"t":0,"l":174,"i":"detect.png","p":"15"}},{"name":"Генетика L.16","data":{"t":0,"l":3161,"i":"genetics.png","p":"20"}}]},{"name":"Население L.4","data":{"t":0,"i":"population.png","p":"12"},"children":[{"name":"Гражданское производство L.9","data":{"t":0,"l":99,"i":"citproduct.png","p":"3"}},{"name":"Генетика L.9","data":{"t":0,"l":99,"i":"genetics.png","p":"20"}}]}]},{"name":"Маскировка L.1","data":{"t":0,"i":"stealth.png","p":"14"},"children":[{"name":"Молекулярное сжатие L.3","data":{"t":0,"i":"maxorb.png","p":"21"},"children":[{"name":"Радиус обзора L.2","data":{"t":0,"i":"sight.png","p":"9"},"children":[{"name":"Детект L.6","data":{"t":0,"l":15,"i":"detect.png","p":"15"}},{"name":"Научные знания L.5","data":{"t":0,"l":8,"i":"researchrate.png","p":"16"}}]},{"name":"Маскировка L.8","data":{"t":0,"l":55,"i":"stealth.png","p":"14"}}]},{"name":"Атака L.3","data":{"t":0,"i":"destruct.png","p":"17"},"children":[{"name":"Утилизация отходов L.2","data":{"t":0,"i":"recycle.png","p":"19"},"children":[{"name":"Добыча L.6","data":{"t":0,"i":"mining.png","p":"1"},"children":[{"name":"Детект L.9","data":{"t":0,"l":99,"i":"detect.png","p":"15"}},{"name":"Стоимость туннелей L.13","data":{"t":0,"l":806,"i":"tunnelcost.png","p":"10"}}]},{"name":"Гражданское производство L.4","data":{"t":0,"i":"citproduct.png","p":"3"},"children":[{"name":"Емкость туннелей L.4","data":{"t":0,"i":"maxtunnels.png","p":"18"},"children":[{"name":"Планетарная емкость L.7","data":{"t":0,"l":29,"i":"occupation.png","p":"5"}},{"name":"Атака L.13","data":{"t":0,"l":806,"i":"destruct.png","p":"17"}}]},{"name":"Военное производство L.9","data":{"t":0,"l":99,"i":"milproduct.png","p":"6"}}]}]},{"name":"Атака L.7","data":{"t":0,"a":true,"l":29,"i":"destruct.png","p":"17"}}]}]}]}]},{"name":"Гражданское производство L.1","data":{"t":0,"i":"citproduct.png","p":"3"},"children":[{"name":"Добыча L.1","data":{"t":0,"i":"mining.png","p":"1"},"children":[{"name":"Молекулярное сжатие L.2","data":{"t":0,"i":"maxorb.png","p":"21"},"children":[{"name":"Молекулярное сжатие L.4","data":{"t":0,"i":"maxorb.png","p":"21"},"children":[{"name":"Планетарная емкость L.6","data":{"t":0,"l":15,"i":"occupation.png","p":"5"}},{"name":"Атака L.11","data":{"t":0,"l":297,"i":"destruct.png","p":"17"}}]},{"name":"Научные знания L.1","data":{"t":0,"i":"researchrate.png","p":"16"},"children":[{"name":"Стоимость туннелей L.1","data":{"t":0,"i":"tunnelcost.png","p":"10"},"children":[{"name":"Гражданское производство L.2","data":{"t":0,"i":"citproduct.png","p":"3"},"children":[{"name":"Туннелестроение L.3","data":{"t":0,"l":2,"i":"tunneling.png","p":"2"}},{"name":"Контршпионаж L.5","data":{"t":0,"l":8,"i":"counterintelligence.png","p":"23"}}]},{"name":"Генетика L.3","data":{"t":0,"i":"genetics.png","p":"20"},"children":[{"name":"Население L.7","data":{"t":0,"l":29,"i":"population.png","p":"12"}},{"name":"Энергосбережение L.5","data":{"t":0,"i":"powersave.png","p":"4"},"children":[{"name":"Стоимость туннелей L.10","data":{"t":0,"l":174,"i":"tunnelcost.png","p":"10"}},{"name":"Контршпионаж L.10","data":{"t":0,"l":174,"i":"counterintelligence.png","p":"23"}}]}]}]},{"name":"Контршпионаж L.4","data":{"t":0,"l":4,"i":"counterintelligence.png","p":"23"}}]}]},{"name":"Военное производство L.2","data":{"t":0,"i":"milproduct.png","p":"6"},"children":[{"name":"Военное производство L.4","data":{"t":0,"i":"milproduct.png","p":"6"},"children":[{"name":"Фермерство L.5","data":{"t":0,"l":8,"i":"farming.png","p":"13"}},{"name":"Радиус атаки L.4","data":{"t":0,"l":4,"i":"attackrange.png","p":"22"}}]},{"name":"Энергосбережение L.1","data":{"t":0,"i":"powersave.png","p":"4"},"children":[{"name":"Военное производство L.5","data":{"t":0,"i":"milproduct.png","p":"6"}},{"name":"Маскировка L.2","data":{"t":0,"i":"stealth.png","p":"14"},"children":[{"name":"Планетарная емкость L.3","data":{"t":0,"i":"occupation.png","p":"5"},"children":[{"name":"Космостроение L.2","data":{"t":0,"i":"spacecraft1.gif","p":"24"},"children":[{"name":"Планетарная емкость L.4","data":{"t":0,"i":"occupation.png","p":"5"},"children":[{"name":"Солнечная энергия L.4","data":{"t":0,"l":4,"i":"solar_rate.png","p":"11"}},{"name":"Население L.8","data":{"t":0,"l":55,"i":"population.png","p":"12"}}]},{"name":"Стоимость туннелей L.3","data":{"t":0,"i":"tunnelcost.png","p":"10"},"children":[{"name":"Точность L.10","data":{"t":0,"l":174,"i":"precision.png","p":"7"}},{"name":"Утилизация отходов L.4","data":{"t":0,"l":4,"i":"recycle.png","p":"19"}}]}]},{"name":"Генетика L.7","data":{"t":0,"l":29,"i":"genetics.png","p":"20"}}]},{"name":"Маскировка L.3","data":{"t":0,"i":"stealth.png","p":"14"},"children":[{"name":"Туннелестроение L.8","data":{"t":0,"l":55,"i":"tunneling.png","p":"2"}},{"name":"Энергосбережение L.4","data":{"t":0,"i":"powersave.png","p":"4"},"children":[{"name":"Радиус обзора L.5","data":{"t":0,"l":8,"i":"sight.png","p":"9"}},{"name":"Генетика L.8","data":{"t":0,"l":55,"i":"genetics.png","p":"20"}}]}]}]}]}]}]},{"name":"Туннелестроение L.1","data":{"t":0,"i":"tunneling.png","p":"2"},"children":[{"name":"Точность L.1","data":{"t":0,"i":"precision.png","p":"7"},"children":[{"name":"Точность L.4","data":{"t":0,"i":"precision.png","p":"7"},"children":[{"name":"Точность L.12","data":{"t":0,"l":494,"i":"precision.png","p":"7"}},{"name":"Стоимость туннелей L.7","data":{"t":0,"l":29,"i":"tunnelcost.png","p":"10"}}]},{"name":"Население L.3","data":{"t":0,"i":"population.png","p":"12"},"children":[{"name":"Защитная мощь L.2","data":{"t":0,"i":"defence.png","p":"8"},"children":[{"name":"Солнечная энергия L.6","data":{"t":0,"l":15,"i":"solar_rate.png","p":"11"}},{"name":"Атака L.12","data":{"t":0,"l":494,"i":"destruct.png","p":"17"}}]},{"name":"Гражданское производство L.3","data":{"t":0,"i":"citproduct.png","p":"3"},"children":[{"name":"Научные знания L.4","data":{"t":0,"i":"researchrate.png","p":"16"},"children":[{"name":"Молекулярное сжатие L.7","data":{"t":0,"l":29,"i":"maxorb.png","p":"21"}},{"name":"Население L.9","data":{"t":0,"l":99,"i":"population.png","p":"12"}}]},{"name":"Радиус атаки L.2","data":{"t":0,"i":"attackrange.png","p":"22"},"children":[{"name":"Точность L.8","data":{"t":0,"l":55,"i":"precision.png","p":"7"}},{"name":"Маскировка L.6","data":{"t":0,"l":15,"i":"stealth.png","p":"14"}}]}]}]}]},{"name":"Население L.1","data":{"t":0,"i":"population.png","p":"12"},"children":[{"name":"Точность L.2","data":{"t":0,"i":"precision.png","p":"7"},"children":[{"name":"Солнечная энергия L.2","data":{"t":0,"i":"solar_rate.png","p":"11"},"children":[{"name":"Детект L.2","data":{"t":0,"i":"detect.png","p":"15"},"children":[{"name":"Точность L.6","data":{"t":0,"l":15,"i":"precision.png","p":"7"}},{"name":"Контршпионаж L.7","data":{"t":0,"l":29,"i":"counterintelligence.png","p":"23"}}]},{"name":"Генетика L.6","data":{"t":0,"l":15,"i":"genetics.png","p":"20"}}]},{"name":"Население L.5","data":{"t":0,"l":8,"i":"population.png","p":"12"}}]},{"name":"Население L.2","data":{"t":0,"i":"population.png","p":"12"},"children":[{"name":"Фермерство L.1","data":{"t":0,"i":"farming.png","p":"13"},"children":[{"name":"Добыча L.5","data":{"t":0,"i":"mining.png","p":"1"},"children":[{"name":"Молекулярное сжатие L.8","data":{"t":0,"l":55,"i":"maxorb.png","p":"21"}},{"name":"Гражданское производство L.6","data":{"t":0,"i":"citproduct.png","p":"3"}}]},{"name":"Туннелестроение L.4","data":{"t":0,"l":4,"i":"tunneling.png","p":"2"}}]},{"name":"Энергосбережение L.3","data":{"t":0,"i":"powersave.png","p":"4"},"children":[{"name":"Космостроение L.3","data":{"t":0,"i":"spacecraft1.gif","p":"24"},"children":[{"name":"Планетарная емкость L.5","data":{"t":0,"i":"occupation.png","p":"5"},"children":[{"name":"Защитная мощь L.5","data":{"t":0,"l":8,"i":"defence.png","p":"8"}},{"name":"Туннелестроение L.13","data":{"t":0,"l":806,"i":"tunneling.png","p":"2"}}]},{"name":"Гражданское производство L.5","data":{"t":0,"i":"citproduct.png","p":"3"},"children":[{"name":"Молекулярное сжатие L.10","data":{"t":0,"l":174,"i":"maxorb.png","p":"21"}},{"name":"Научные знания L.7","data":{"t":0,"l":29,"i":"researchrate.png","p":"16"}}]}]},{"name":"Маскировка L.7","data":{"t":0,"l":29,"i":"stealth.png","p":"14"}}]}]}]}]}]}]},{"name":"Атака L.1","data":{"t":0,"i":"destruct.png","p":"17"},"children":[{"name":"Военное производство L.1","data":{"t":0,"i":"milproduct.png","p":"6"},"children":[{"name":"Военное производство L.3","data":{"t":0,"i":"milproduct.png","p":"6"},"children":[{"name":"Точность L.7","data":{"t":0,"l":29,"i":"precision.png","p":"7"}},{"name":"Научные знания L.3","data":{"t":0,"i":"researchrate.png","p":"16"},"children":[{"name":"Стоимость туннелей L.5","data":{"t":0,"l":8,"i":"tunnelcost.png","p":"10"}},{"name":"Маскировка L.9","data":{"t":0,"l":99,"i":"stealth.png","p":"14"}}]}]},{"name":"Контршпионаж L.3","data":{"t":0,"i":"counterintelligence.png","p":"23"},"children":[{"name":"Фермерство L.4","data":{"t":0,"l":1,"i":"farming.png","p":"13"}},{"name":"Атака L.8","data":{"t":0,"l":55,"i":"destruct.png","p":"17"}}]}]},{"name":"Генетика L.1","data":{"t":0,"i":"genetics.png","p":"20"},"children":[{"name":"Планетарная емкость L.1","data":{"t":0,"i":"occupation.png","p":"5"},"children":[{"name":"Планетарная емкость L.2","data":{"t":0,"i":"occupation.png","p":"5"},"children":[{"name":"Детект L.1","data":{"t":0,"i":"detect.png","p":"15"},"children":[{"name":"Молекулярное сжатие L.5","data":{"t":0,"i":"maxorb.png","p":"21"},"children":[{"name":"Точность L.15","data":{"t":0,"l":2036,"i":"precision.png","p":"7"}},{"name":"Радиус атаки L.5","data":{"t":0,"l":8,"i":"attackrange.png","p":"22"}}]},{"name":"Атака L.5","data":{"t":0,"i":"destruct.png","p":"17"},"children":[{"name":"Туннелестроение L.12","data":{"t":0,"l":494,"i":"tunneling.png","p":"2"}},{"name":"Атака L.16","data":{"t":0,"l":3161,"i":"destruct.png","p":"17"}}]}]},{"name":"Атака L.4","data":{"t":0,"i":"destruct.png","p":"17"},"children":[{"name":"Фермерство L.6","data":{"t":0,"l":15,"i":"farming.png","p":"13"}},{"name":"Атака L.14","data":{"t":0,"l":1292,"i":"destruct.png","p":"17"}}]}]},{"name":"Контршпионаж L.2","data":{"t":0,"i":"counterintelligence.png","p":"23"},"children":[{"name":"Точность L.5","data":{"t":0,"l":8,"i":"precision.png","p":"7"}},{"name":"Энергосбережение L.2","data":{"t":0,"i":"powersave.png","p":"4"},"children":[{"name":"Туннелестроение L.5","data":{"t":0,"l":8,"i":"tunneling.png","p":"2"}},{"name":"Атака L.6","data":{"t":0,"i":"destruct.png","p":"17"},"children":[{"name":"Молекулярное сжатие L.12","data":{"t":0,"l":494,"i":"maxorb.png","p":"21"}},{"name":"Энергосбережение L.11","data":{"t":0,"l":297,"i":"powersave.png","p":"4"}}]}]}]}]},{"name":"Атака L.2","data":{"t":0,"i":"destruct.png","p":"17"},"children":[{"name":"Туннелестроение L.2","data":{"t":0,"i":"tunneling.png","p":"2"},"children":[{"name":"Защитная мощь L.1","data":{"t":0,"i":"defence.png","p":"8"},"children":[{"name":"Детект L.3","data":{"t":0,"i":"detect.png","p":"15"},"children":[{"name":"Добыча L.7","data":{"t":0,"l":29,"i":"mining.png","p":"1"}},{"name":"Военное производство L.8","data":{"t":0,"l":55,"i":"milproduct.png","p":"6"}}]},{"name":"Туннелестроение L.6","data":{"t":0,"l":15,"i":"tunneling.png","p":"2"}}]},{"name":"Научные знания L.2","data":{"t":0,"i":"researchrate.png","p":"16"},"children":[{"name":"Фермерство L.3","data":{"t":0,"i":"farming.png","p":"13"},"children":[{"name":"Детект L.4","data":{"t":0,"i":"detect.png","p":"15"},"children":[{"name":"Радиус обзора L.7","data":{"t":0,"l":29,"i":"sight.png","p":"9"}},{"name":"Научные знания L.8","data":{"t":0,"l":55,"i":"researchrate.png","p":"16"}}]},{"name":"Туннелестроение L.7","data":{"t":0,"l":29,"i":"tunneling.png","p":"2"}}]},{"name":"Маскировка L.4","data":{"t":0,"l":4,"i":"stealth.png","p":"14"}}]}]},{"name":"Радиус атаки L.1","data":{"t":0,"i":"attackrange.png","p":"22"},"children":[{"name":"Добыча L.4","data":{"t":0,"i":"mining.png","p":"1"},"children":[{"name":"Радиус обзора L.1","data":{"t":0,"i":"sight.png","p":"9"},"children":[{"name":"Емкость туннелей L.1","data":{"t":0,"i":"maxtunnels.png","p":"18"},"children":[{"name":"Емкость туннелей L.2","data":{"t":0,"i":"maxtunnels.png","p":"18"},"children":[{"name":"Емкость туннелей L.3","data":{"t":0,"i":"maxtunnels.png","p":"18"},"children":[{"name":"Радиус обзора L.3","data":{"t":0,"i":"sight.png","p":"9"},"children":[{"name":"Радиус обзора L.4","data":{"t":0,"i":"sight.png","p":"9"},"children":[{"name":"Добыча L.8","data":{"t":0,"l":55,"i":"mining.png","p":"1"}},{"name":"Энергосбережение L.7","data":{"t":0,"l":29,"i":"powersave.png","p":"4"}}]},{"name":"Энергосбережение L.6","data":{"t":0,"l":15,"i":"powersave.png","p":"4"}}]},{"name":"Туннелестроение L.9","data":{"t":0,"l":99,"i":"tunneling.png","p":"2"}}]},{"name":"Атака L.9","data":{"t":0,"l":99,"i":"destruct.png","p":"17"}}]},{"name":"Стоимость туннелей L.4","data":{"t":0,"i":"tunnelcost.png","p":"10"},"children":[{"name":"Космостроение L.5","data":{"t":0,"i":"spacecraft1.gif","p":"24"},"children":[{"name":"Защитная мощь L.3","data":{"t":0,"i":"defence.png","p":"8"},"children":[{"name":"Молекулярное сжатие L.11","data":{"t":0,"l":297,"i":"maxorb.png","p":"21"}},{"name":"Гражданское производство L.7","data":{"t":0,"l":29,"i":"citproduct.png","p":"3"}}]},{"name":"Стоимость туннелей L.8","data":{"t":0,"l":55,"i":"tunnelcost.png","p":"10"}}]},{"name":"Фермерство L.7","data":{"t":0,"l":29,"i":"farming.png","p":"13"}}]}]},{"name":"Контршпионаж L.8","data":{"t":0,"l":55,"i":"counterintelligence.png","p":"23"}}]},{"name":"Утилизация отходов L.1","data":{"t":0,"i":"recycle.png","p":"19"},"children":[{"name":"Солнечная энергия L.3","data":{"t":0,"i":"solar_rate.png","p":"11"},"children":[{"name":"Точность L.9","data":{"t":0,"l":99,"i":"precision.png","p":"7"}},{"name":"Маскировка L.10","data":{"t":0,"l":174,"i":"stealth.png","p":"14"}}]},{"name":"Военное производство L.6","data":{"t":0,"l":15,"i":"milproduct.png","p":"6"}}]}]},{"name":"Генетика L.4","data":{"t":0,"l":4,"i":"genetics.png","p":"20"}}]}]}]}]}]};
    var reached = {"Космостроение":["L.1","L.2","L.3","L.4","L.5"],"Солнечная энергия":["L.1","L.2","L.3","L.4","L.6"],"Молекулярное сжатие":["L.1","L.2","L.3","L.4","L.5","L.6","L.7","L.8"],"Добыча":["L.1","L.2","L.3","L.4","L.5","L.6","L.7","L.8"],"Точность":["L.1","L.2","L.3","L.4","L.5","L.6","L.7","L.8"],"Радиус обзора":["L.1","L.2","L.3","L.4","L.5","L.6","L.7"],"Контршпионаж":["L.1","L.2","L.3","L.4","L.5","L.6","L.7","L.8"],"Утилизация отходов":["L.1","L.2","L.3","L.4"],"Генетика":["L.1","L.2","L.3","L.4","L.5","L.6","L.7","L.8"],"Фермерство":["L.1","L.2","L.3","L.4","L.5","L.6","L.7"],"Стоимость туннелей":["L.1","L.2","L.3","L.4","L.5","L.7","L.8"],"Население":["L.1","L.2","L.3","L.4","L.5","L.6","L.7","L.8"],"Маскировка":["L.1","L.2","L.3","L.4","L.5","L.6","L.7","L.8"],"Детект":["L.1","L.2","L.3","L.4","L.6"],"Гражданское производство":["L.1","L.2","L.3","L.4","L.5","L.6","L.7"],"Научные знания":["L.1","L.2","L.3","L.4","L.5","L.7","L.8"],"Атака":["L.1","L.2","L.3","L.4","L.5","L.6","L.7","L.8"],"Емкость туннелей":["L.1","L.2","L.3","L.4"],"Планетарная емкость":["L.1","L.2","L.3","L.4","L.5","L.6","L.7"],"Военное производство":["L.1","L.2","L.3","L.4","L.5","L.6","L.8"],"Туннелестроение":["L.1","L.2","L.3","L.4","L.5","L.6","L.7","L.8"],"Энергосбережение":["L.1","L.2","L.3","L.4","L.5","L.6","L.7"],"Радиус атаки":["L.1","L.2","L.4","L.5"],"Защитная мощь":["L.1","L.2","L.3","L.5"]};
    function recFind(root, n) {
        if(root.name == n) {
            return n;
        } else if(root.children && root.children.length > 0) {
            var s1 = recFind(root.children[0], n);
            var s2 = recFind(root.children[1], n);
            if(s1) return root.name + " -> " + s1;
            else if(s2) return root.name + " -> " + s2;
        }
        return null;
    }
    var theApp = angular.module('theApp', []);
    theApp.controller('theController', function ($scope) {
        $scope.reached = reached;
        $scope.resOver = "";
        $scope.resClick = "";
        $scope.over = function mouseOver(k, l) {
            console.log("Over " + k, l);
            console.log(recFind(sciTree, k + " " + l));
            $scope.resOver = recFind(sciTree, k + " " + l);
        };
        $scope.click = function mouseOver(k, l) {
            console.log("Click " + k + " " + l);
            console.log(recFind(sciTree, k + " " + l));
            $scope.resClick = recFind(sciTree, k + " " + l);
        }
    });
</script>
<body ng-app="theApp" ng-controller="theController">
    <table style="float: left">
        <tr ng-repeat="(key, array) in reached">
            <td>{{key}}</td>
            <td style="padding-left: 5px" ng-repeat="l in array">
                <b ng-mouseover="over(key, l)" ng-click="click(key, l)">{{l}}</b>
            </td>
        </tr>
    </table>
    <div style="float: left; max-width: 50%; padding-left: 15px">
        <span ng-bind="resOver"></span>
        <br />
        <br />
        <b>{{resClick}}</b>
    </div>
</body>
</html>